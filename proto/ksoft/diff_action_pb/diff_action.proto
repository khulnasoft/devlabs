// Copyright Khulnasoft, Ltd.

syntax = "proto3";

package ksoft.diff_action_pb;

import "../khulnasoft_common/khulnasoft_common.proto";

option go_package = "github.com/khulnasoft/devlabs/proto/ksoft/diff_action_pb";

enum UnifiedDiffLineType {
  UNIFIED_DIFF_LINE_TYPE_UNSPECIFIED = 0;
  UNIFIED_DIFF_LINE_TYPE_INSERT = 1;
  UNIFIED_DIFF_LINE_TYPE_DELETE = 2;
  UNIFIED_DIFF_LINE_TYPE_UNCHANGED = 3;
}

message UnifiedDiff {
  message UnifiedDiffLine {
    string text = 1;
    UnifiedDiffLineType type = 2;
  }
  repeated UnifiedDiffLine lines = 3;
}

// Proto representation of a code block.
message DiffBlock {
  int32 start_line = 1;
  int32 end_line = 2;
  UnifiedDiff unified_diff = 3;
  ksoft.khulnasoft_common.Language from_language = 4;
  ksoft.khulnasoft_common.Language to_language = 5;
}